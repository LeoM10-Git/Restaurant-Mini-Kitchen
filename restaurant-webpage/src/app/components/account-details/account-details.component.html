<div class="centered-content d-flex justify-content-center align-items-center">
  <div class="account-manager-container d-flex">
    <app-account-sidebar></app-account-sidebar>

    <div class="right-side-panel-container d-flex flex-column">
      <!--Account details section-->
      <div class="container d-flex flex-column">
      <form [formGroup]="form" *ngIf="form" (ngSubmit)="updateAccount()">
        <div class="form-group">
          <label>Name</label>
          <br>
          <small *ngIf="form.get('name')?.touched && form.get('name')?.hasError('required')">
            Name is required
          </small>
          <input type="email" class="form-control" formControlName="name">

        </div>
        <div class="form-group">
          <label>Email</label>
          <br>
          <small *ngIf="form.get('email')?.touched && form.get('email')?.hasError('required')">
            Email is required
          </small>
          <input type="email" class="form-control" formControlName="email">
        </div>
        <h3>Password Change</h3>
        <div class="form-group">
          <label>Current password (leave blank to leave unchanged)</label>
          <input type="password" class="form-control" placeholder="Current Password"
          formControlName="currentPassword">
        </div>
        <div class="form-group">
          <label>New password (leave blank to leave unchanged)</label>
          <br>
          <small class="hint" *ngIf="form.get('currentPassword')?.value && !form.get('newPassword')?.value">
            Please enter a new password
          </small>
          <input type="password" class="form-control" placeholder=" New Password"
          formControlName="newPassword">

        </div>
        <div class="form-group">
          <label>Confirm new password</label>
          <br>
          <small *ngIf="form.get('currentPassword')?.value && form.get('newPassword')?.value &&
                        !form.get('confirmPassword')?.value">
            Please enter a confirm password
          </small>
          <input type="password" class="form-control" placeholder="Confirm Password"
          formControlName="confirmPassword">
          <small *ngIf="info">Confirm password is not matching with your new password</small>
          <small class="updatedDetails" *ngIf="updated">Account details are updated, please login again</small>
          <small class="updatedDetails" *ngIf="wrongPassword">Current password is not correct</small>
        </div>


        <button type="submit" class="btn btn-primary"
                [disabled]="form.invalid ||
                (!(form.get('name')?.dirty || form.get('email')?.dirty) && !form.get('currentPassword')?.value)">
          Save Changes
        </button>
      </form>
      </div>
      <!--End of section-->
    </div>
  </div>
</div>

